<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />

  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta name="referrer" content="strict-origin-when-cross-origin">

  <!-- Meta tags pour le mode Application (iOS & Android) -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Koiny">
  <meta name="theme-color" content="#6366f1">
  <link rel="manifest" href="/manifest.json">

  <!-- SEO & Marketing -->
  <title>Koiny | L'Argent de poche ludique & éducatif</title>
  <meta name="description"
    content="Transformez les corvées en leçons de vie. L'application familiale pour gérer l'argent de poche, les missions et les objectifs d'épargne.">

  <!-- Favicons & Apple Touch Icon -->
  <link rel="icon" type="image/png" href="/icon.png" />
  <link rel="apple-touch-icon" href="/icon.png">

  <!-- Google Fonts: Poppins -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap"
    rel="stylesheet">

  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Dark Mode Detection Script -->
  <script>
    // On page load or when changing themes, best to add inline in `head` to avoid FOUC
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }

    // Watch for system preference changes
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
      if (event.matches) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    });
  </script>

  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          screens: {
            'xs': '400px',
          },
          fontFamily: {
            sans: ['Poppins', 'sans-serif'],
          },
          colors: {
            kid: {
              green: '#88cc14',
              greenlight: '#dcfce7',
              blue: '#3b82f6',
              yellow: '#fef08a',
              text: '#1e293b',
              input: '#f3f4f6',
            }
          },
          boxShadow: {
            'soft': '0 10px 40px -10px rgba(0,0,0,0.08)',
            'card': '0 4px 20px rgba(0,0,0,0.05)',
            'premium-dark': '0 20px 50px rgba(0,0,0,0.5)',
          },
          keyframes: {
            fadeInUp: {
              '0%': { opacity: '0', transform: 'translateY(20px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' },
            },
            scaleIn: {
              '0%': { opacity: '0', transform: 'scale(0.9)' },
              '100%': { opacity: '1', transform: 'scale(1)' },
            },
            pop: {
              '0%': { transform: 'scale(0)' },
              '60%': { transform: 'scale(1.1)' },
              '100%': { transform: 'scale(1)' },
            },
            balancePop: {
              '0%': { transform: 'scale(1)' },
              '50%': { transform: 'scale(1.2)', filter: 'brightness(1.2)' },
              '100%': { transform: 'scale(1)' },
            },
            shake: {
              '0%, 100%': { transform: 'translateX(0)' },
              '10%, 30%, 50%, 70%, 90%': { transform: 'translateX(-5px)' },
              '20%, 40%, 60%, 80%': { transform: 'translateX(5px)' },
            },
            overflowPulse: {
              '0%': { boxShadow: 'inset 0 0 0px 0px rgba(239, 68, 68, 0)' },
              '50%': { boxShadow: 'inset 0 0 100px 20px rgba(239, 68, 68, 0.4)' },
              '100%': { boxShadow: 'inset 0 0 0px 0px rgba(239, 68, 68, 0)' },
            },
            slideUp: {
              '0%': { transform: 'translateY(100%)' },
              '100%': { transform: 'translateY(0)' },
            }
          },
          animation: {
            'fade-in-up': 'fadeInUp 0.5s ease-out forwards',
            'scale-in': 'scaleIn 0.3s ease-out forwards',
            'pop-in': 'pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards',
            'balance-pop': 'balancePop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)',
            'shake': 'shake 0.5s cubic-bezier(.36,.07,.19,.97) both',
            'overflow-pulse': 'overflowPulse 1s ease-in-out infinite',
            'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'slide-up': 'slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards',
          }
        }
      }
    }
  </script>
  <style>
    :root {
      --safe-area-top: env(safe-area-inset-top);
      --safe-area-bottom: env(safe-area-inset-bottom);
    }

    body {
      font-family: 'Poppins', sans-serif;
      background-color: #fcfcfc;
      -webkit-tap-highlight-color: transparent;
      user-select: none;
      -webkit-user-select: none;
      touch-action: manipulation;
      overscroll-behavior-y: none;
      /* Empêche le rebond élastique sur iOS */
    }

    .dark body {
      background-color: #020617;
      /* slate-950 */
    }

    .safe-pt {
      padding-top: 60px !important;
      padding-top: max(60px, env(safe-area-inset-top)) !important;
    }

    .safe-pb {
      padding-bottom: env(safe-area-inset-bottom) !important;
    }

    .safe-mt {
      margin-top: 60px !important;
      margin-top: max(60px, env(safe-area-inset-top)) !important;
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    input,
    textarea,
    button,
    select,
    a {
      -webkit-tap-highlight-color: transparent;
    }

    .overflow-active {
      animation: shake 0.5s cubic-bezier(.36, .07, .19, .97) both, overflowPulse 1.5s ease-in-out infinite;
    }
  </style>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="./index.tsx"></script>
</body>

</html>